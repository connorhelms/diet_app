{% extends "base.html" %}

{% block content %}
<h2 class="mb-4">Saved Recipes</h2>
<div class="row">
  <div class="col-md-6">
    <h3>Recently Saved</h3>
    {% if recent %}
      {% for recipe in recent %}
      <div class="card mb-4">
        <div class="card-body">
          <h4 class="card-title">{{ recipe.title }}</h4>
          <p class="card-text"><strong>Content:</strong> {{ recipe.content }}</p>
          <p class="card-text"><strong>Ingredients:</strong> {{ recipe.ingredients }}</p>
          <p class="card-text"><strong>Servings:</strong> {{ recipe.servings }}</p>
          <p class="card-text"><strong>Nutrition:</strong> {{ recipe.nutrition }}</p>
          <p class="card-text"><strong>Cost per Serving:</strong> {{ recipe.cost_per_serving }}</p>
          <form action="{{ url_for('delete_recipe', recipe_id=recipe.id) }}" method="post" style="display:inline;">
            <button type="submit" class="btn btn-danger btn-sm">Delete</button>
          </form>
          <form action="{{ url_for('toggle_favorite', recipe_id=recipe.id) }}" method="post" style="display:inline;">
            <button type="submit" class="btn btn-outline-secondary btn-sm">☆</button>
          </form>
        </div>
      </div>
      {% endfor %}
    {% else %}
      <div class="alert alert-info">No recent recipes saved!</div>
    {% endif %}
  </div>
  <div class="col-md-6">
    <h3>Favorite Recipes</h3>
    {% if favorites %}
      {% for recipe in favorites %}
      <div class="card mb-4">
        <div class="card-body">
          <h4 class="card-title">{{ recipe.title }}</h4>
          <p class="card-text"><strong>Content:</strong> {{ recipe.content }}</p>
          <p class="card-text"><strong>Ingredients:</strong> {{ recipe.ingredients }}</p>
          <p class="card-text"><strong>Servings:</strong> {{ recipe.servings }}</p>
          <p class="card-text"><strong>Nutrition:</strong> {{ recipe.nutrition }}</p>
          <p class="card-text"><strong>Cost per Serving:</strong> {{ recipe.cost_per_serving }}</p>
          <form action="{{ url_for('delete_recipe', recipe_id=recipe.id) }}" method="post" style="display:inline;">
            <button type="submit" class="btn btn-danger btn-sm">Delete</button>
          </form>
          <form action="{{ url_for('toggle_favorite', recipe_id=recipe.id) }}" method="post" style="display:inline;">
            <button type="submit" class="btn btn-success btn-sm">★</button>
          </form>
        </div>
      </div>
      {% endfor %}
    {% else %}
      <div class="alert alert-info">No favorite recipes saved!</div>
    {% endif %}
  </div>
</div>
{% endblock %} 